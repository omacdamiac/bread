<h1>{{ datosReports.proceso }}</h1>
<mat-accordion class="example-headers-align">
  <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
    <mat-expansion-panel-header>
      <div class="my-panel" (click)="$event.stopPropagation()">
        <!-- <mat-panel-title>  </mat-panel-title> -->
        <mat-panel-title>BÃºsqueda</mat-panel-title>
        <!-- <mat-panel-description>
            Type your name and age
            <mat-icon>account_circle</mat-icon>
          </mat-panel-description> -->
      </div>
    </mat-expansion-panel-header>
    <div class="container-fluid">
      <div class="row">
        <div
          *ngFor="let item of filters"
          class="col-md-3"
          [ngSwitch]="item.type"
        >
          <ng-container *ngSwitchCase="'calendar'"
            >
            <ng-container [ngSwitch]="item.formato">
              <ng-container *ngSwitchCase="'YYYY'">
                <!-- DATEYEARS -->
                <app-dateyears
                  [required]="item.requerido === 'si' ? true : false"
                  [label]="item.label"
                  [name]="item.model"
                  [placeholder]="'Ingresar' + item.label"
                  [formParent]="form"
                >
                </app-dateyears>
              </ng-container>
              <ng-container *ngSwitchCase="'YYYYMM'" >
                <!-- DATEYEARS-MONTH -->
                <app-datepicker-month *ngIf="item"
                  [required]="item.requerido === 'si' ? true : false"
                  [label]="item.label"
                  [name]="item.model"
                  [placeholder]="'Ingresar' + item.label"
                  [formParent]="form"
                >
                </app-datepicker-month>
              </ng-container>
              <ng-container *ngSwitchDefault>
                <!-- DATEPICKER -->
                <app-datepicker
                  [required]="item.requerido === 'si' ? true : false"
                  [label]="item.label"
                  [name]="item.model"
                  [placeholder]="'Ingresar' + item.label"
                  [formParent]="form"
                ></app-datepicker>
              </ng-container>
            </ng-container>
          </ng-container>
          <!-- SELECT -->
          <ng-container *ngSwitchCase="'select'">
            <app-select
              [formParent]="form"
              [label]="item?.label"
              [name]="item?.model"
              [required]="item?.requerido === 'si' ? true : false"
              [options]="item?.opciones"
            ></app-select>
          </ng-container>
          <!-- INPUT -->
          <ng-container *ngSwitchDefault>
            <app-input
              [required]="item.requerido === 'si' ? true : false"
              [label]="item.label"
              [name]="item.model"
              [type]="item.type"
              [placeholder]="'Ingresar' + item.label"
              [formParent]="form"
            ></app-input>
          </ng-container>
          <!-- {{ item?.label }}
        <app-input
          [required]="item?.model?.required"
          [label]="item?.model?.text"
          [name]="item?.model?.name"
          [type]="item?.model?.type"
          [placeholder]="item?.model?.place"
          [formParent]="form"
        ></app-input> -->
        </div>
        <div class="clearfix"></div>
      </div>
      <!-- <div class="row">
        <div class="col-md-4">
          <div class="row">
            <div class="col-md-6">
              <app-select
                [formParent]="form"
                [label]="selectAnio.label"
                [name]="selectAnio.name"
                [required]="selectAnio.required"
                [options]="selectAnio.options"
              ></app-select>
            </div>
            <div class="col-md-6">
              <app-select
                [formParent]="form"
                [label]="selectMes.label"
                [name]="selectMes.name"
                [required]="selectMes.required"
                [options]="selectMes.options"
              ></app-select>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <app-select
            [formParent]="form"
            [label]="selectTipoDoc.label"
            [name]="selectTipoDoc.name"
            [required]="selectTipoDoc.required"
            [options]="selectTipoDoc.options"
          ></app-select>
        </div>
        <div class="col-md-4">
          <app-input
            [required]="inputDoc.required"
            [label]="inputDoc.label"
            [name]="inputDoc.name"
            [type]="inputDoc.type"
            [placeholder]="inputDoc.place"
            [formParent]="form"
          ></app-input>
        </div>
      </div>
      <div class="row">
        <div class="col-md-4">
          <app-input
            [required]="inputPaterno.required"
            [label]="inputPaterno.label"
            [name]="inputPaterno.name"
            [type]="inputPaterno.type"
            [placeholder]="inputPaterno.place"
            [formParent]="form"
          ></app-input>
        </div>
        <div class="col-md-4">
          <app-input
            [required]="inputMaterno.required"
            [label]="inputMaterno.label"
            [name]="inputMaterno.name"
            [type]="inputMaterno.type"
            [placeholder]="inputMaterno.place"
            [formParent]="form"
          ></app-input>
        </div>
        <div class="col-md-4">
          <app-input
            [required]="inputNombre.required"
            [label]="inputNombre.label"
            [name]="inputNombre.name"
            [type]="inputNombre.type"
            [placeholder]="inputNombre.place"
            [formParent]="form"
          ></app-input>
        </div>
      </div> -->
    </div>

    <!-- <mat-form-field appearance="fill">
          <mat-label>First name</mat-label>
          <input matInput>
        </mat-form-field>
    
        <mat-form-field appearance="fill">
          <mat-label>Age</mat-label>
          <input matInput type="number" min="1">
        </mat-form-field> -->
    <mat-action-row>
      <!-- <button mat-button color="primary" (click)="nextStep()"></button> -->
      <app-button
        [load]="load"
        [class]="btnLimpiar.class"
        [texto]="btnLimpiar.texto"
        [color]="btnLimpiar.color"
        (click)="clear()"
      ></app-button>
      <app-button
        [load]="load"
        [class]="btnBuscar.class"
        [texto]="btnBuscar.texto"
        [color]="btnBuscar.color"
        (click)="search()"
      ></app-button>
    </mat-action-row>
  </mat-expansion-panel>
</mat-accordion>

<div class="mt-3 bg-table mat-elevation-z8 mb-3" *ngIf="headers">
  <div class="text-end">
    <app-button
      [load]="load"
      [class]="btnDescarga.class"
      [texto]="btnDescarga.texto"
      [color]="btnDescarga.color"
      (click)="exportTable()"
    ></app-button>
  </div>
  <!-- <mat-divider></mat-divider> -->
  <!-- <mat-form-field appearance="standard">
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
    </mat-form-field> -->

  <div class="mat-elevation-z8-">
    <app-table
      id="TableReporte"
      [header]="listadoUnoHeaders"
      [datos]="datos?.listadouno"
      [body]="listadoUnoBody"

      [headersModal]="headersModal"
      [bodyModal]="bodyModal"
      [datosModal]="datos?.listadodos"
      
      [headersModalDos]="headersModalEntidad"
      [bodyModalDos]="bodyModalEntidad"
      [datosModalDos]="datos?.listadotres"
      [modal]="modal"
    ></app-table>
    <!-- <table class="table">
      <thead>
        <th *ngFor="let head of displayedColumns">{{ head }}</th>
      </thead>
      <tbody>
        <ng-container *ngFor="let d of datos">
          <td *ngFor="let td of body">
            {{ d[td.trim()] }}
          </td>
        </ng-container>
      </tbody>
    </table> -->

    <!-- <table
      mat-table
      [dataSource]="dataSource"
      matSort
      [trackBy]="trackByFn"
      id="TableReporte"
    >
      <ng-container
        [matColumnDef]="column"
        *ngFor="let column of displayedColumns"
      >
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          {{ column | header }}
        </th>
        <td mat-cell *matCellDef="let element">
          <div *ngFor="let t of body">
            {{ t }}////
            <div *ngIf="true">{{ element[t.trim()] }}---</div>
          </div>
           {{ element | json }}------- -->
    <!-- {{ column | json }} -->
    <!-- <div *ngIf="(element[column] | typeOf) === 'string'">
              {{ element[column] }}
            </div>
            <div *ngIf="(element[column] | typeOf) === 'object'">
              <mat-icon
                matTooltipPosition="left"
                [matTooltip]="'Ver Detalles'"
                (click)="openDialog(element[column])"
                >search</mat-icon
              >
            </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No encontramos registros</td>
      </tr>
    </table> -->
  </div>
</div>
